<%- include("../admin/header") %>

	<!--end header -->
	<!--start page wrapper -->
	<div class="page-wrapper">
		<div class="page-content">
			<!--breadcrumb-->
			<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
				<div class="breadcrumb-title pe-3">Forms</div>
				<div class="ps-3">
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb mb-0 p-0">
							<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
							</li>
							<li class="breadcrumb-item active" aria-current="page">Form Layouts</li>
						</ol>
					</nav>
				</div>
				<div class="ms-auto">
					<div class="btn-group">
						<button type="button" class="btn btn-primary">Settings</button>
						<button type="button"
							class="btn btn-primary split-bg-primary dropdown-toggle dropdown-toggle-split"
							data-bs-toggle="dropdown"> <span class="visually-hidden">Toggle Dropdown</span>
						</button>
						<div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-end"> <a class="dropdown-item"
								href="javascript:;">Action</a>
							<a class="dropdown-item" href="javascript:;">Another action</a>
							<a class="dropdown-item" href="javascript:;">Something else here</a>
							<div class="dropdown-divider"></div> <a class="dropdown-item" href="javascript:;">Separated
								link</a>
						</div>
					</div>
				</div>
			</div>
			<!--end breadcrumb-->
			<div class="row">
				<div class="col-xl-7 mx-auto">
					<h6 class="mb-0 text-uppercase">Product</h6>
					<hr />
					<div class="card border-top border-0 border-4 border-primary">
						<div class="card-body p-5">
							<div class="card-title d-flex align-items-center">
								<div><i class="bx bxs-user me-1 font-22 text-primary"></i>
								</div>
								<h5 class="mb-0 text-primary">Add Product</h5>
							</div>
							<hr>
							<form class="row g-3" id="addpro">
								<div class="col-md-6">
									<label for="inputFirstName" class="form-label">Name</label>
									<input type="text" class="form-control" id="inputFirstName" name="name">
								</div>
								<div class="col-md-4">
									<label for="inputState" class="form-label">Categories</label>
									<select id="inputState" class="form-select" name="cat_id">
										<option selected>Select</option>
										<% category.forEach(function(cat) { %>

											<option value="<%=cat.id%>">
												<%= cat.name %>
											</option>
											<% }); %>

									</select>
								</div>

								<div class="col-12">
									<div class="form-check">
										<input class="form-check-input" type="checkbox" id="gridCheck"
											name="pro_featured" check>
										<label class="form-check-label" for="gridCheck">Featured Product</label>
									</div>
								</div>

								<div class="col-md-6">
									<label for="inputLastName" class="form-label">Price</label>
									<input type="number" class="form-control" id="inputLastName" name="price">
								</div>

								<div class="col-md-6">
									<label for="inputLastName" class="form-label">Image</label>
									<input type="file" class="form-control" id="inputLastName" name="image">
								</div>

								<div class="col-12">
									<label for="inputAddress" class="form-label">Details</label>
									<textarea class="form-control" id="inputAddress" placeholder="Details..." rows="3"
										name="des"></textarea>
								</div>

								<div class="col-12">
									<button type="submit" class="btn btn-primary px-5">Add product</button>
								</div>
							</form>
						</div>
					</div>


				</div>
				<!--end row-->
			</div>
		</div>
		<!--end page wrapper -->


		<script>
			const frm = document.getElementById("addpro");
			frm.addEventListener("submit", async (e) => {

				e.preventDefault();
				const frmData = new FormData(frm)
				// const name = frm.name.value;
				// const cat_id = frm.cat_id.value;
				// const pro_featured = frm.pro_featured.checked;
				// const des = frm.des.value;
				// const price = frm.price.value;
				// console.log(des);

				console.log("with in from");
				const res = await fetch("http://localhost:3200/admin/product/add", {
					method: "post",
					body: frmData


				})
				// const server = await res.json
				// console.log(server);
				// if (server.status) {
				// if (server.status === true) {
				location.assign("http://localhost:3200/admin/product")
				// 	}
				// } else {
				// 	alert(server.note)
				// }
			})
		</script>
		<%- include("../admin/footer") %>